{"version":3,"sources":["../source/style.js"],"names":["resolve_locale","gradation","a_day","twitter_formatters","locales","styles","twitter","locale","same_year","Intl","DateTimeFormat","month","day","another_year","year","twitter_same_year_date_formatter","twitter_another_year_date_formatter","twitter_gradation","canonical","step","unit","threshold","options","override","elapsed","date","now","Math","abs","Date","getFullYear","format","units","flavour","fuzzy","convenient"],"mappings":";AAAA,SAASA,cAAT,QAAiC,YAAjC;AACA,SAASC,SAAT,EAAoBC,KAApB,QAAiC,oBAAjC;;AAEA,IAAMC,qBAAqB,EAA3B;;AAEA,eAAe,UAASC,OAAT,EACf;AACC,KAAMC,SACN;AACC;AACA;AACA;AACAC,SAJD,qBAKC;AACC,OAAMC,SAASP,eAAeI,OAAf,CAAf;;AAEA,OAAI,CAACD,mBAAmBI,MAAnB,CAAL,EACA;AACCJ,uBAAmBI,MAAnB,IACA;AACC;AACAC,gBAAe,IAAIC,KAAKC,cAAT,CAAwBH,MAAxB,EAAgC,EAAEI,OAAO,OAAT,EAAkBC,KAAK,SAAvB,EAAhC,CAFhB;;AAIC;AACAC,mBAAe,IAAIJ,KAAKC,cAAT,CAAwBH,MAAxB,EAAgC,EAAEO,MAAM,SAAR,EAAmBH,OAAO,OAA1B,EAAmCC,KAAK,SAAxC,EAAhC;AALhB,KADA;AAQA;;AAED,OAAMG,mCAAsCZ,mBAAmBI,MAAnB,EAA2BC,SAAvE;AACA,OAAMQ,sCAAsCb,mBAAmBI,MAAnB,EAA2BM,YAAvE;;AAEA,OAAMI,oBAAoBhB,UAAUiB,SAAV,EAA1B;AAlBD;AAAA;AAAA;;AAAA;AAmBC,sCAAiBD,iBAAjB,4GACA;AAAA,SADSE,IACT;;AACC,SAAIA,KAAKC,IAAL,KAAc,QAAlB,EACA;AACCD,WAAKE,SAAL,GAAiB,EAAjB;AACA;AACA;AACD;AA1BF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AA4BC,OAAMC,UACN;AACC;AACA;AACA;AACAC,YAJD,0BAKC;AAAA,SADWC,OACX,QADWA,OACX;AAAA,SADoBC,IACpB,QADoBA,IACpB;AAAA,SAD0BC,GAC1B,QAD0BA,GAC1B;;AACC;AACA;AACA,SAAIC,KAAKC,GAAL,CAASJ,OAAT,IAAoBtB,QAAQ,KAAK,EAArC,EACA;AACC;AACA;;AAED;AACA;AACA,SAAI,IAAI2B,IAAJ,CAASH,GAAT,EAAcI,WAAd,OAAgCL,KAAKK,WAAL,EAApC,EACA;AACC,aAAOf,iCAAiCgB,MAAjC,CAAwCN,IAAxC,EAA8C,MAA9C,CAAP;AACA;;AAED;AACA;AACA,YAAOT,oCAAoCe,MAApC,CAA2CN,IAA3C,EAAiD,OAAjD,CAAP;AACA,KAvBF;;;AAyBCO,WAAO,CAAC,UAAD,EAAa,QAAb,EAAuB,MAAvB,CAzBR;;AA2BC/B,eAAWgB,iBA3BZ;;AA6BCgB,aAAS;AA7BV,IADA;;AAiCA,UAAOX,OAAP;AACA,GAnEF;;;AAqEC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAY,OA9FD,mBA+FC;AACC,OAAMZ,UACN;AACCrB,eAAWA,UAAUkC,UAAV,EADZ;AAECF,aAAS,cAFV;AAGCD,WAAO,CAAC,UAAD,EAAa,QAAb,EAAuB,WAAvB,EAAoC,MAApC,EAA4C,KAA5C,EAAmD,MAAnD,EAA2D,OAA3D,EAAoE,WAApE,EAAiF,MAAjF;AAHR,IADA;;AAOA,UAAOV,OAAP;AACA;AAxGF,EADA;;AA4GA,QAAOjB,MAAP;AACA","file":"style.js","sourcesContent":["import { resolve_locale }   from './time ago'\nimport { gradation, a_day } from './classify elapsed'\n\nconst twitter_formatters = {}\n\nexport default function(locales)\n{\n\tconst styles = \n\t{\n\t\t// Twitter style relative time.\n\t\t// Seconds, minutes and hours are shown relatively,\n\t\t// and other intervals can be shown using full date format.\n\t\ttwitter()\n\t\t{\n\t\t\tconst locale = resolve_locale(locales)\n\t\t\t\n\t\t\tif (!twitter_formatters[locale])\n\t\t\t{\n\t\t\t\ttwitter_formatters[locale] = \n\t\t\t\t{\n\t\t\t\t\t// \"Apr 11\" (MMMd)\n\t\t\t\t\tsame_year    : new Intl.DateTimeFormat(locale, { month: 'short', day: 'numeric' }),\n\n\t\t\t\t\t// \"Apr 11, 2017\" (yMMMd)\n\t\t\t\t\tanother_year : new Intl.DateTimeFormat(locale, { year: 'numeric', month: 'short', day: 'numeric' })\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst twitter_same_year_date_formatter    = twitter_formatters[locale].same_year\n\t\t\tconst twitter_another_year_date_formatter = twitter_formatters[locale].another_year\n\n\t\t\tconst twitter_gradation = gradation.canonical()\n\t\t\tfor (let step of twitter_gradation)\n\t\t\t{\n\t\t\t\tif (step.unit === 'minute')\n\t\t\t\t{\n\t\t\t\t\tstep.threshold = 45\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst options = \n\t\t\t{\n\t\t\t\t// Twitter style relative time.\n\t\t\t\t// Seconds, minutes and hours are shown relatively,\n\t\t\t\t// and other intervals can be shown using full date format.\n\t\t\t\toverride({ elapsed, date, now })\n\t\t\t\t{\n\t\t\t\t\t// If less than 24 hours elapsed,\n\t\t\t\t\t// then format it relatively.\n\t\t\t\t\tif (Math.abs(elapsed) < a_day - 30 * 60)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\t// If `date` and `now` happened the same year,\n\t\t\t\t\t// then show month and day\n\t\t\t\t\tif (new Date(now).getFullYear() === date.getFullYear())\n\t\t\t\t\t{\n\t\t\t\t\t\treturn twitter_same_year_date_formatter.format(date, 'MMMd')\n\t\t\t\t\t}\n\n\t\t\t\t\t// If `date` and `now` happened in defferent years,\n\t\t\t\t\t// then show full date\n\t\t\t\t\treturn twitter_another_year_date_formatter.format(date, 'yMMMd')\n\t\t\t\t},\n\n\t\t\t\tunits: ['just-now', 'minute', 'hour'],\n\n\t\t\t\tgradation: twitter_gradation,\n\n\t\t\t\tflavour: 'tiny'\n\t\t\t}\n\n\t\t\treturn options\n\t\t},\n\n\t\t// I prefer this one.\n\t\t//\n\t\t// just now\n\t\t// 5 minutes\n\t\t// 10 minutes\n\t\t// 15 minutes\n\t\t// 20 minutes\n\t\t// half an hour\n\t\t// an hour\n\t\t// 2 hours\n\t\t// â€¦\n\t\t// 20 hours\n\t\t// 1 day\n\t\t// 2 days\n\t\t// a week\n\t\t// 2 weeks\n\t\t// 3 weeks\n\t\t// a month\n\t\t// 2 months\n\t\t// 3 months\n\t\t// 4 months\n\t\t// half a year\n\t\t// a year\n\t\t// 2 years\n\t\t//\n\t\tfuzzy()\n\t\t{\n\t\t\tconst options = \n\t\t\t{\n\t\t\t\tgradation: gradation.convenient(),\n\t\t\t\tflavour: 'long_concise',\n\t\t\t\tunits: ['just-now', 'minute', 'half-hour', 'hour', 'day', 'week', 'month', 'half-year', 'year']\n\t\t\t}\n\n\t\t\treturn options\n\t\t}\n\t}\n\n\treturn styles\n}"]}